import{u as c,b as m,c as h,r as p,j as e}from"./vendor-5dc834d7.js";import{i as u}from"./LogoHorizontal-222b80f9.js";import{u as g,S as n}from"./sweetalert2.all-a46bd305.js";import{u as x}from"./index-5eca3ed1.js";const f=r=>{const a={},o=/(?=.*[0-9])/;return r.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(r.email)||(a.email="Correo electronico incorrecto"):a.email="Obligatorio",r.password?r.password.length<8?a.password="*Password must be 8 characters long.":o.test(r.password)||(a.password="La contraseña debe tener mínimo 1 número."):a.password="Obligatorio",a};function v(){const r=c(),a=m(),o=h(t=>t.auth.isLoggedIn),[j,l]=p.useState(o),s=g({initialValues:{email:"",password:""},validate:f,onSubmit:({email:t,password:d})=>{r(x({email:t,password:d})).then(i=>{i.payload.status===200?(l(o),n.fire(i.payload.message).then(()=>{a("/user-dashboard")})):n.fire(i.payload.message)}).catch(i=>{n.fire(i)})}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loginBody",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"grid alignItem",children:e.jsxs("div",{className:"register",style:{marginTop:30,marginBottom:30},children:[e.jsx("img",{src:u,className:"siteLogo",width:"306",height:"84",alt:"siteLogo"}),e.jsx("p",{children:"Inicia sesión a continuación con tu usuario y contraseña "}),e.jsxs("form",{className:"form ",style:{marginTop:"3rem"},onSubmit:s.handleSubmit,children:[e.jsx("label",{htmlFor:"email",children:"Usuario (email)"}),e.jsxs("div",{className:"formField",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Usuario",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email}),s.touched.email&&s.errors.email&&e.jsx("span",{style:{color:"red",display:"block"},children:s.errors.email})]}),e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsxs("div",{className:"formField",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Contraseña",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.password}),s.touched.password&&s.errors.password&&e.jsx("span",{style:{color:"red",display:"block"},children:s.errors.password})]}),e.jsx("div",{className:"formField",style:{marginTop:"8rem"},children:e.jsx("input",{type:"submit",value:"INICIAR SESIÓN",className:"btn btn-success btnLanding"})})]}),e.jsxs("p",{children:["¿Aún no tienes cuenta? ",e.jsx("a",{href:"/register",children:"Regístrate"})]})]})})})})})}export{v as default};
