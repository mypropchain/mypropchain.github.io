import{u as v,r as d,b as y,j as e}from"./vendor-ffd51fc4.js";import{u as f,i as w}from"./formik.esm-8cc3d487.js";import{c as N}from"./index-e07e89b5.js";import{S as u}from"./sweetalert2.all-7baeaaf7.js";import{c as C,a as r,b as F}from"./index.esm-d4c6dd44.js";const S={name:"",lastname:"",email:"",password:"",password_repeat:""},B=C({name:r().required("El campo nombre es obligatorio").min(1,"El nombre tiene que tener al menos un carácter").max(100,"El nombre no puede superar los 100 carácteres"),lastname:r().required("El campo nombre es obligatorio").min(1,"El nombre tiene que tener al menos un carácter").max(100,"El nombre no puede superar los 100 carácteres"),email:r().required("El email es obligatorio").email("El email no tiene un formato válido"),password:r().required("La contraseña es obligatoria").min(8,"La contraseña debe tener al menos 8 caracteres").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"La contraseña debe tener al menos una letra mayúscula, una minúscula y un número"),password_repeat:r().required("La contraseña es obligatoria").min(8,"La contraseña debe tener al menos 8 caracteres").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"La contraseña debe tener al menos una letra mayúscula, una minúscula y un número").oneOf([F("password"),null],"Las contraseñas no coinciden")});function q(){const p=v(),[s,n]=d.useState(!1),h=y(),[x,b]=d.useState({name:"",lastname:"",email:"",password:"",role:"user",isActive:!0}),a=f({initialValues:S,validationSchema:B,onSubmit:({name:o,lastname:t,email:i,password:c},{resetForm:j,setSubmitting:g})=>{b({name:o,lastname:t,email:i,password:c,role:"user",isActive:!0}),console.log("values",x),p(N({name:o,lastname:t,email:i,password:c,role:"user",isActive:!0})).then(m=>{console.log("values",m.payload);const l=m.payload;l.status===201?u.fire(l.data.message).then(()=>{h("/login"),g(!1),j()}):u.fire(l.message).then(()=>{})})}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loginBody",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"grid alignItem",children:e.jsxs("div",{className:"register",style:{marginTop:30,marginBottom:30},children:[e.jsx("img",{src:w,className:"siteLogo",width:"306",height:"84",alt:"siteLogo"}),e.jsx("p",{children:"Regístrate gratis para empezar"}),e.jsxs("form",{className:"form",onSubmit:a.handleSubmit,children:[e.jsx("label",{htmlFor:"name",children:"Nombre"}),e.jsx("div",{className:"formField",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.name})}),a.touched.name&&a.errors.name?e.jsx("span",{style:{color:"red",display:"block"},children:a.errors.name}):null,e.jsx("label",{htmlFor:"lastname",children:"Apellido"}),e.jsx("div",{className:"formField",children:e.jsx("input",{type:"text",name:"lastname",placeholder:"Lastname",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.lastname})}),a.touched.lastname&&a.errors.lastname?e.jsx("span",{style:{color:"red",display:"block"},children:a.errors.lastname}):null,e.jsx("label",{htmlFor:"email",children:"Correo electrónico"}),e.jsx("div",{className:"formField",children:e.jsx("input",{type:"email",name:"email",placeholder:"Correo electrónico",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.email})}),a.touched.email&&a.errors.email?e.jsx("span",{style:{color:"red",display:"block"},children:a.errors.email}):null,e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("div",{className:"formField",children:e.jsxs("div",{className:"inputWrapper",children:[e.jsx("input",{className:"inputRegister password",type:s?"text":"password",name:"password",placeholder:"Contraseña",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.password}),e.jsx("span",{className:"inputIcon password",onClick:()=>n(!s),children:s?e.jsx("i",{className:"bi bi-eye",style:{fontSize:"1.5rem"}}):e.jsx("i",{className:"bi bi-eye-slash ",style:{fontSize:"1.5rem"}})})]})}),a.touched.password&&a.errors.password?e.jsx("span",{style:{color:"red",display:"block"},children:a.errors.password}):null,e.jsx("label",{htmlFor:"password_repeat",children:"Repite tu contraseña"}),e.jsx("div",{className:"formField",children:e.jsxs("div",{className:"inputWrapper",children:[e.jsx("input",{type:s?"text":"password",name:"password_repeat",placeholder:"Repite tu contraseña",value:a.values.password_repeat,onChange:a.handleChange,onBlur:a.handleBlur,className:"inputRegister password"}),e.jsx("span",{className:"inputIcon password",onClick:()=>n(!s),children:s?e.jsx("i",{className:"bi bi-eye",style:{fontSize:"1.5rem"}}):e.jsx("i",{className:"bi bi-eye-slash",style:{fontSize:"1.5rem"}})})]})}),a.touched.password_repeat&&a.errors.password_repeat?e.jsx("span",{style:{color:"red",display:"block"},children:a.errors.password_repeat}):null,e.jsx("div",{className:"formField",children:e.jsx("input",{type:"submit",value:"ENVIAR",className:"btn btn-success btnLanding"})})]}),e.jsxs("p",{children:["¿Ya tienes una cuenta? ",e.jsx("a",{href:"/login",children:"Inicia sesión"})]})]})})})})})}export{q as default};
