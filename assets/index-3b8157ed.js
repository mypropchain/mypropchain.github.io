import{a as A,u as $,b as H,c as k,r as y,d as J,S as ne,j as e,M as Z,N,C as re,O as P,e as O,L as E,f as x,T as oe,I as le,A as F,g as ie,h as C,D as ce,i as R,k as de,l as ue,m as me,n as he,o as W,R as j,p as pe,q as I,s as xe,B as L,F as m,t as S,v as je,w as K,x as ge,y as Ee,z as ve,E as Se,G as ye,H as _e,U as fe,J as Le,K as Ae,P as Y,Q as Ce,V as be,W as Ie,X as Te,Y as Ne,Z as Oe,_ as G,$ as u,a0 as Re,a1 as we,a2 as Pe,a3 as Fe,a4 as Ue}from"./vendor-3430416b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const ke="modulepreload",De=function(a){return"/"+a},M={},v=function(t,o,n){if(!o||o.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(o.map(r=>{if(r=De(r),r in M)return;M[r]=!0;const l=r.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!n)for(let i=s.length-1;i>=0;i--){const _=s[i];if(_.href===r&&(!l||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${d}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":ke,l||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),l)return new Promise((i,_)=>{c.addEventListener("load",i),c.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r})},Ge="/assets/LogoHorizontal-ab16c970.png",Me="CREATE_PROFILE",Q="REGISTER_SUCCESS",Ve="REGISTER_FAIL",X="LOGIN_SUCCESS",ze="LOGIN_FAIL",ee="LOGOUT_SUCCESS",Be="LOGOUT_FAIL",qe="GET_ALL_USERS",$e="GET_ALL_USERS_FAIL",He="GET_USER",Je="GET_USER_FAIL",Ze="CREATE_PROFILE",We="CREATE_PROFILE_FAIL",Ke="UPDATE_PROFILE",Ye="UPDATE_PROFILE_FAIL",Qe="CREATE_COMPENSATION",Xe="CREATE_COMPENSATION_FAIL",es="GET_COMPENSATION",ss="GET_COMPENSATION_FAIL",as="GET_ALL_COMPENSATION",ts="GET_ALL_COMPENSATION_FAIL",ns="CREATE_ASSET",rs="CREATE_ASSET_FAIL",os="GET_ASSET",ls="GET_ASSET_FAIL",is="GET_ALL_ASSET",cs="GET_ALL_ASSET_FAIL",ds="UPDATE_ASSET",us="UPDATE_ASSET_FAIL";function oa(a){return console.log("axios.defaults.baseURL",A.defaults.baseURL),console.log("Create en actions",a),async t=>{try{let o=await A.post("/users",a);const n=o.data;return console.log("Response",n),t({type:Q,payload:o})}catch(o){return console.log("ERROR: ",o.response.data),t({type:Ve,payload:o.response.data})}}}function ms(a){return console.log("axios.defaults.baseURL",A.defaults.baseURL),async t=>{try{const n=(await A.post("/userlogin",a)).data;return n.data.token&&(localStorage.setItem("user",JSON.stringify(n.data)),localStorage.setItem("profile",JSON.stringify(n.data.user))),t({type:X,payload:n})}catch(o){return console.log(o),t({type:ze,payload:o.response.data})}}}function hs(a){return async t=>{try{return localStorage.removeItem("user"),t({type:ee,payload:[]})}catch(o){return console.log(o),t({type:Be,payload:o})}}}const ps=a=>{const t={},o=/(?=.*[0-9])/;return a.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(a.email)||(t.email="Correo electronico incorrecto"):t.email="Obligatorio",a.password?a.password.length<8?t.password="*Password must be 8 characters long.":o.test(a.password)||(t.password="La contraseña debe tener mínimo 1 número."):t.password="Obligatorio",t};function V(){const a=$();H();const t=k(i=>i.auth.isLoggedIn);y.useState(t);const[o,n]=y.useState(!1),[s,r]=y.useState(""),l=()=>{n(!0)},d=()=>{n(!1)},g=()=>{n(!1)},c=J({initialValues:{email:"",password:""},validate:ps,onSubmit:({email:i,password:_})=>{a(ms({email:i,password:_})).then(h=>{h.payload.status===200?r(h.payload.message):(r(h.payload.message),l())}).catch(h=>{ne.fire(h)})}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"grid alignItem",children:e.jsxs("div",{className:"register",style:{marginTop:30,marginBottom:30},children:[e.jsx("img",{src:Ge,className:"siteLogo",width:"306",height:"84",alt:"siteLogo"}),e.jsx("p",{children:"Inicia sesión a continuación con tu usuario y contraseña "}),e.jsxs("form",{className:"form ",style:{marginTop:"3rem"},onSubmit:c.handleSubmit,children:[e.jsx("label",{htmlFor:"email",children:"Usuario (email)"}),e.jsxs("div",{className:"formField",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Usuario",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email}),c.touched.email&&c.errors.email&&e.jsx("span",{style:{color:"red",display:"block"},children:c.errors.email})]}),e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsxs("div",{className:"formField",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Contraseña",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.password}),c.touched.password&&c.errors.password&&e.jsx("span",{style:{color:"red",display:"block"},children:c.errors.password})]}),e.jsx("div",{className:"formField",style:{marginTop:"8rem"},children:e.jsx("input",{type:"submit",value:"INICIAR SESIÓN",className:"btn btn-success btnLanding"})})]}),e.jsxs("p",{children:["¿Aún no tienes cuenta? ",e.jsx("a",{href:"/register",children:"Regístrate"})]})]})}),e.jsx(Z,{title:"Basic Modal",open:o,onOk:d,onCancel:g,children:e.jsx("p",{children:s})})]})})})}const xs="/assets/Logo1-9d7283fd.png";function js(){var D;const a=$(),t=H(),o=k(b=>b.auth),n=(D=JSON.parse(localStorage.getItem("user")))==null?void 0:D.user;let s;o.avatar!==""&&(s=o.avatar);const[r,l]=y.useState(null),d=!!r,g=b=>{l(b.currentTarget)},c=()=>{l(null)},i=o.isLoggedIn,_=n==null?void 0:n.role,h="lg",w=()=>{a(hs()).then(b=>{console.log("Respuesta del logout: ",b),t("/")})},f=()=>{t("/login")},T=()=>{t("/register")},se=()=>{t("/user-dashboard")},ae=()=>{t("/")},te=()=>{t("/profile")};return e.jsx(e.Fragment,{children:e.jsx(N,{expand:h,className:"",bg:"dark","data-bs-theme":"dark",variant:"dark",sticky:"top",children:e.jsxs(re,{fluid:!0,children:[e.jsx(N.Brand,{href:"/",children:e.jsx("img",{src:xs,alt:"MyPropChain",width:"30",height:"30",className:"d-inline-block align-top"})}),e.jsx(N.Toggle,{"aria-controls":`offcanvasNavbar-expand-${h}`}),e.jsxs(N.Offcanvas,{id:`offcanvasNavbar-expand-${h}`,"aria-labelledby":`offcanvasNavbarLabel-expand-${h}`,placement:"end",children:[e.jsx(P.Header,{closeButton:!0,children:e.jsx(P.Title,{id:`offcanvasNavbarLabel-expand-${h}`,children:"MyPropChain"})}),e.jsxs(P.Body,{children:[e.jsxs(O,{className:"justify-content-start flex-grow-1 pe-3",children:[e.jsx(O.Link,{as:E,to:"/",children:"Home"}),e.jsx(O.Link,{as:E,to:"/register",children:"Register"}),i?e.jsxs(x,{title:"Mi Cuenta",id:`offcanvasNavbarDropdown-expand-${h}`,children:[e.jsx(x.Item,{as:E,to:"/user-dashboard",children:"Dashboard"}),e.jsx(x.Item,{as:E,to:"/user-dashboard",children:"Activos"}),e.jsx(x.Divider,{}),e.jsx(x.Item,{as:E,to:"/profile",children:"Perfil"}),i&&_==="admin"?e.jsx(x.Divider,{}):null,i&&_==="admin"?e.jsx(x.Item,{as:E,to:"/admin-dashboard",children:"Admin panel"}):null]}):null,i?e.jsxs(x,{title:"Activos",id:`offcanvasNavbarDropdown-expand-${h}`,children:[e.jsx(x.Item,{as:E,to:"/assets",children:"Crear Activo"}),e.jsx(x.Item,{as:E,to:"/assets",children:"Consultar Activo"})]}):null,i?e.jsxs(x,{title:"Compensaciones",id:`offcanvasNavbarDropdown-expand-${h}`,children:[e.jsx(x.Item,{as:E,to:"/compensations",children:"Crear Compensación"}),e.jsx(x.Item,{as:E,to:"/consult-compensations",children:"Consultar Compensaciones"})]}):null,i?e.jsxs(x,{title:"Managment",id:`offcanvasNavbarDropdown-expand-${h}`,children:[e.jsx(x.Item,{as:E,to:"gei-control",children:"Gestión de emisiones GEI"}),e.jsx(x.Item,{as:E,to:"/",children:"Modulo OKR"})]}):null]}),e.jsxs(O,{children:[e.jsx(oe,{title:"Account settings",children:e.jsx(le,{onClick:g,size:"small",sx:{ml:2},"aria-controls":d?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,children:e.jsx(F,{sx:{width:32,height:32},children:s})})}),e.jsxs(ie,{anchorEl:r,id:"account-menu",open:d,onClose:c,onClick:c,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[i?e.jsxs(C,{onClick:te,children:[e.jsx(F,{})," Perfil"]}):null,e.jsxs(C,{onClick:se,children:[e.jsx(F,{})," Mi Cuenta"]}),e.jsx(ce,{}),e.jsxs(C,{onClick:T,children:[e.jsx(R,{children:e.jsx(de,{fontSize:"small"})}),"Agregar cuenta nueva"]}),e.jsxs(C,{onClick:ae,children:[e.jsx(R,{children:e.jsx(ue,{fontSize:"small"})}),"Configuración"]}),i?e.jsxs(C,{onClick:w,children:[e.jsx(R,{children:e.jsx(me,{fontSize:"small"})}),"Logout"]}):e.jsxs(C,{onClick:f,children:[e.jsx(R,{children:e.jsx(he,{fontSize:"small"})}),"Login"]})]})]})]})]})]})},h)})}const gs="/assets/LogoPart2-62813117.png",{Header:la,Content:Es,Footer:vs}=W;function Ss({children:a}){const t={Height:"100vh",minWidth:"95%",overflow:"hidden",margin:"0"},o={textAlign:"center",height:"100vh",backgroundColor:"#fff",overflow:"auto"},n={backgroundColor:"#fff"};return e.jsx(e.Fragment,{children:e.jsxs(W,{style:{height:"100vh",overflow:"none"},children:[e.jsx(js,{}),e.jsx(Es,{style:o,children:e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("div",{style:t,children:a})})}),e.jsx(vs,{style:n,children:e.jsxs("div",{className:"d-flex flex-row text-center align-items-center justify-content-center",children:[e.jsx("div",{className:"me-3",children:"MyPropChain"}),e.jsx("a",{href:"/",className:"",children:e.jsx("img",{src:gs,alt:"",className:"",style:{width:30}})}),e.jsx("small",{className:"d-block ms-3 text-body-secondary",children:"© 2022–2023"})]})})]})})}function ys(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center pt-5",children:[e.jsx("h1",{children:"404"}),e.jsx("h3",{children:"Oops! La página a la que intenta ingresar"}),e.jsx("h3",{children:"No existe o no tiene permiso de acceso."}),e.jsx("p",{children:"Aqui hay unos links que puede ayudarlo:"}),e.jsx(E,{to:"/",children:"Home"}),e.jsx(E,{to:"/contact",children:"Contact"})]})})}class _s extends j.Component{constructor(t){super(t),this.state={tieneError:!1,mensajeError:""}}static getDerivedStateFromError(t){return{tieneError:!0,mensajeError:t.message}}componentDidCatch(t){console.log("Component did catch:",t.message)}render(){return this.state.tieneError?e.jsxs("div",{className:"px-4 py-2 m-4",children:[e.jsx("h1",{className:"mt-2 font-bold text-lg mb-1",children:"Hubo un error:"}),e.jsxs("p",{children:[" ",this.state.mensajeError," "]}),e.jsxs("button",{className:"px-4 py-2 rounded bg-blue-800 hover:bg-blue-700 active:outline text-sm",onClick:()=>window.location.href="/",children:["Recargar la página"," "]})]}):this.props.children}}A.defaults.baseURL="http://localhost:3001";async function ia(a){try{return(await A.get(`/${a}`)).data}catch(t){console.log(t)}}const fs={evidence:""},Ls=pe({evidence:I().required("El campo nombre es obligatorio").min(1,"El nombre tiene que tener al menos un carácter").max(100,"El nombre no puede superar los 100 carácteres"),lastname:I().required("El campo nombre es obligatorio").min(1,"El nombre tiene que tener al menos un carácter").max(100,"El nombre no puede superar los 100 carácteres"),email:I().required("El email es obligatorio").email("El email no tiene un formato válido"),password:I().required("La contraseña es obligatoria").min(8,"La contraseña debe tener al menos 8 caracteres").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"La contraseña debe tener al menos una letra mayúscula, una minúscula y un número"),password_repeat:I().required("La contraseña es obligatoria").min(8,"La contraseña debe tener al menos 8 caracteres").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"La contraseña debe tener al menos una letra mayúscula, una minúscula y un número").oneOf([xe("password"),null],"Las contraseñas no coinciden")});function As(a){const[t,o]=y.useState(fs),[n,s]=y.useState(!1);y.useState({title:"Nueva Evidencia",btn:"Guardar"});const r=d=>{if(d&&!n){console.log("NUEVO####",n);const g={};onCreate(g),handleOk()}else if(d&&n){const g={};onUpdate(g),handleOk()}},l=J({initialValues:t,enableReinitialize:!0,validationSchema:Ls,onSubmit:async d=>{console.log("VALUES",d),r(d)},reseFromData:async d=>{console.log("RESET DATA",d)}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid",children:e.jsx("div",{className:"",children:e.jsx("form",{className:"pt-4",onSubmit:l.handleSubmit,children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"evidence",children:"Evidencia"}),e.jsx("input",{id:"evidence",type:"text",className:"form-control",name:"evidence",placeholder:"Ingrese el nombre de la evidencia",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.evidence}),l.touched.evidence&&l.errors.evidence?e.jsx("span",{style:{color:"red",display:"block"},children:l.errors.evidence}):null]})})})})})}function Cs(a){console.log("PROPS####",a);const[t,o]=y.useState([]),[n,s]=y.useState(!1),r=()=>{s(!0)},l=()=>{s(!1)},d=()=>{s(!1)},g=async i=>{console.log("DATA ADD",i)},c=async i=>{console.log("DATA UPDATE",i)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"pt-5",children:e.jsxs("div",{className:"row",children:[e.jsx("h3",{className:"col",children:"Registro de evidencias"}),e.jsx("div",{className:"col",children:e.jsx(L,{type:"primary",onClick:()=>r(),children:"Nueva evidencia"})})]})}),e.jsx(Z,{title:"Registro de evidencia",open:n,onOk:l,onCancel:d,children:e.jsx(As,{onCreate:g,onUpdate:c,data:t})})]})})}const{RangePicker:bs}=K,Is=({fields:a,onFinish:t,formName:o,options:n})=>e.jsxs(m,{name:o,onFinish:t,layout:"vertical",children:[a.map((s,r)=>e.jsxs(m.Item,{label:s.label,name:s.name,rules:[{required:!0,message:`Por favor, ingrese ${s.label}`},{type:`${s.type}`}],children:[s.type==="text"&&e.jsx(S,{id:s.name}),s.type==="inputnumber"&&e.jsx(je,{min:"0",max:"1",step:"0.01",stringMode:!0,style:{width:"100%"},id:s.name}),s.type==="number"&&e.jsx(S,{type:"number",id:s.name,value:s.value,defaultValue:s.value}),s.type==="email"&&e.jsx(S,{type:"email",id:s.name,value:s.value,defaultValue:s.value}),s.type==="date"&&e.jsx(K,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="datetime"&&e.jsx(bs,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="password"&&e.jsx(S.Password,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="textarea"&&e.jsx(S.TextArea,{id:s.name}),s.type==="select"&&e.jsx(ge,{id:s.name,value:s.value,defaultValue:s.value,options:n,placeholder:"Seleccione una opción"}),s.type==="radio"&&e.jsx(Ee,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="checkbox"&&e.jsx(ve,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="switch"&&e.jsx(Se,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="slider"&&e.jsx(ye,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="rate"&&e.jsx(_e,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="upload"&&e.jsx(fe,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="button"&&e.jsx(L,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="treeselect"&&e.jsx(Le,{id:s.name,value:s.value,defaultValue:s.value}),s.type==="timepicker"&&e.jsx(Ae,{id:s.name,value:s.value,defaultValue:s.value})]},r)),e.jsx(m.Item,{children:e.jsx(L,{type:"primary",htmlType:"submit",children:"Enviar"})})]});function Ts({fields:a,onFinish:t,formName:o,addField:n,removeField:s}){return e.jsxs(m,{form:o,name:"dynamic-form",onFinish:t,children:[a.map((r,l)=>e.jsxs(Y,{style:{display:"flex",marginBottom:8},children:[y.createElement(m.Item,{...r,name:[r.name,"name"],key:[r.key,"name"],validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Nombre requerido"}]},e.jsx(S,{placeholder:"Nombre"})),y.createElement(m.Item,{...r,name:[r.name,"age"],key:[r.key,"age"],validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Edad requerida"}]},e.jsx(S,{placeholder:"Edad"})),e.jsx(Ce,{onClick:()=>s(l)})]},l)),e.jsx(m.Item,{children:e.jsx(L,{type:"dashed",onClick:n,icon:e.jsx(be,{}),children:"Agregar Campo"})}),e.jsx(m.Item,{children:e.jsx(L,{type:"primary",htmlType:"submit",children:"Enviar"})})]})}function Ns({fields:a,onFinish:t,formName:o}){const{TextArea:n}=S;return e.jsxs(m,{labelCol:{span:6},wrapperCol:{span:18},form:o,name:"dynamic_form_complex",style:{maxWidth:600},autoComplete:"off",initialValues:{items:[{}]},onFinish:t,children:[e.jsx(m.Item,{label:"Bloque",name:"bloque",rules:[{required:!0,message:"Missing bloque field"}],children:e.jsx(S,{})}),e.jsx(m.List,{name:"items",children:(s,{add:r,remove:l})=>e.jsxs("div",{style:{display:"flex",rowGap:16,flexDirection:"column"},children:[s.map(d=>e.jsxs(Ie,{size:"small",title:`Atributo ${d.name+1}`,extra:e.jsx(Te,{onClick:()=>{l(d.name)}}),children:[e.jsx(m.Item,{label:"Atributo",name:[d.name,"name"],children:e.jsx(S,{placeholder:"ingrese el atributo"})}),e.jsx(m.Item,{label:"Métricas",children:e.jsx(m.List,{name:[d.name,"list"],children:(g,c)=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",rowGap:16},children:[g.map(i=>e.jsxs(Y,{direction:"vertical",children:[e.jsx(m.Item,{noStyle:!0,name:[i.name,"name"],children:e.jsx(S,{placeholder:"ingrese el nombre"})}),e.jsx(m.Item,{noStyle:!0,name:[i.name,"description"],children:e.jsx(n,{placeholder:"ingrese la descripción"})}),e.jsx(m.Item,{noStyle:!0,name:[i.name,"sense"],children:e.jsx(S,{placeholder:"ingrese el sentido"})}),e.jsx(m.Item,{noStyle:!0,name:[i.name,"weight"],children:e.jsx(S,{placeholder:"ingrese el peso"})}),e.jsx(L,{type:"dashed",danger:!0,onClick:()=>{c.remove(i.name)},block:!0,children:"- Eliminar métricas"})]},i.key)),e.jsx(L,{type:"dashed",style:{border:"1px dashed #389e0d",color:"#389e0d"},onClick:()=>c.add(),block:!0,children:"+ Agregar métricas"})]})})})]},d.key)),e.jsx(L,{type:"dashed",onClick:()=>r(),block:!0,children:"+ Agregar Atributo"}),e.jsx(m.Item,{noStyle:!0,children:e.jsx(L,{type:"primary",htmlType:"submit",children:"Enviar"})})]})})]})}function Os(){const a={border:"1px solid #000",height:"50vh",width:"25vw",overflow:"auto"},t={border:"1px solid #000",width:"80vw"},o={border:"1px solid #000",width:"80vw",height:"10vh"},n={margin:"auto",display:"flex",flexDirection:"column",alignContent:"center",backgroundColor:"#fff",height:"80vh"},[s,r,l]=m.useForm(),[d,g]=y.useState([]),c=[{label:"Nombre",name:"name",type:"text"},{label:"Correo Electrónico",name:"email",type:"email"},{label:"Teléfono",name:"phone",type:"text"},{label:"Direccion",name:"addresses",type:"text"},{label:"peso",name:"weight",type:"inputnumber"}],i=f=>{console.log("Valores del formulario:",f),alert(JSON.stringify(f))},_=()=>{const f=[...d,{name:void 0,age:void 0}];g(f)},h=f=>{const T=[...d];T.splice(f,1),g(T)},w=f=>{console.log("Formulario enviado:",f),alert(JSON.stringify(f))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container-fluid ",style:n,children:e.jsx("div",{className:"subContent",children:e.jsxs("div",{className:"abs-center",children:[e.jsxs("div",{className:"row ",style:t,children:[e.jsxs("div",{className:"col-md m-3",style:a,children:[e.jsx("h3",{children:"Formulario dinamico"}),e.jsx(Ts,{fields:d,onFinish:i,formName:s,addField:_,removeField:h})]}),e.jsx("div",{className:"col-md m-3",style:a,children:e.jsxs("div",{children:[e.jsx("h3",{children:"Formulario generico"}),e.jsx(Is,{fields:c,onFinish:w,formName:r})]})}),e.jsxs("div",{className:"col-md m-3",style:a,children:[e.jsx("h3",{children:"Formulario Multi"}),e.jsx(Ns,{fields:d,onFinish:i,formName:l,addField:_,removeField:h})]})]}),e.jsx("div",{className:"row mt-3 mx-3",style:o})]})})})})}const Rs=j.lazy(()=>v(()=>import("./Home-5af2dddf.js"),["assets/Home-5af2dddf.js","assets/vendor-3430416b.js","assets/Home-07c959c0.css"])),ws=j.lazy(()=>v(()=>import("./Landing-a6342cb4.js"),["assets/Landing-a6342cb4.js","assets/vendor-3430416b.js"])),z=j.lazy(()=>v(()=>import("./Register-d1123178.js"),["assets/Register-d1123178.js","assets/vendor-3430416b.js","assets/FormHelper-9aa2f0e8.js"])),Ps=j.lazy(()=>v(()=>import("./Profile-54596b6d.js"),["assets/Profile-54596b6d.js","assets/vendor-3430416b.js","assets/FormikDynamic-d018235a.js","assets/users-88cb7d8b.js","assets/compensation-4b9bb1b4.js"])),Fs=j.lazy(()=>v(()=>import("./About-fbbce5a9.js"),["assets/About-fbbce5a9.js","assets/vendor-3430416b.js"])),Us=j.lazy(()=>v(()=>import("./Logout-536f2759.js"),["assets/Logout-536f2759.js","assets/vendor-3430416b.js"])),ks=j.lazy(()=>v(()=>import("./Contact-4f9024ed.js"),["assets/Contact-4f9024ed.js","assets/vendor-3430416b.js"])),Ds=j.lazy(()=>v(()=>import("./News-4c747292.js"),["assets/News-4c747292.js","assets/vendor-3430416b.js"])),Gs=j.lazy(()=>v(()=>import("./Assets-e25d10c4.js"),["assets/Assets-e25d10c4.js","assets/vendor-3430416b.js","assets/FormikDynamic-d018235a.js","assets/users-88cb7d8b.js","assets/compensation-4b9bb1b4.js"])),Ms=j.lazy(()=>v(()=>import("./Compensations-2d2cf7bc.js"),["assets/Compensations-2d2cf7bc.js","assets/vendor-3430416b.js","assets/FormikDynamic-d018235a.js","assets/users-88cb7d8b.js","assets/compensation-4b9bb1b4.js","assets/FormHelper-9aa2f0e8.js"])),Vs=j.lazy(()=>v(()=>import("./ConsultCompensations-abd48169.js"),["assets/ConsultCompensations-abd48169.js","assets/vendor-3430416b.js","assets/Table-5f2ab6d9.js","assets/compensation-4b9bb1b4.js"])),zs=j.lazy(()=>v(()=>import("./GeiControl-c608c54d.js"),["assets/GeiControl-c608c54d.js","assets/vendor-3430416b.js"])),Bs=j.lazy(()=>v(()=>import("./index-4164da0d.js"),["assets/index-4164da0d.js","assets/vendor-3430416b.js","assets/users-88cb7d8b.js"])),U=j.lazy(()=>v(()=>import("./index-16022b57.js"),["assets/index-16022b57.js","assets/vendor-3430416b.js","assets/Table-5f2ab6d9.js","assets/compensation-4b9bb1b4.js"]));function qs(){var o;const a=k(n=>n.auth.isLoggedIn),t=(o=JSON.parse(localStorage.getItem("user")))==null?void 0:o.user;return console.log("<<<<LOGGED desde APP>>>>",a),e.jsx("div",{className:"App",children:e.jsx(y.Suspense,{fallback:e.jsx("div",{className:"example",children:e.jsx(Ne,{size:"large"})}),children:e.jsx(Oe,{children:e.jsx(_s,{children:a?e.jsx(Ss,{children:e.jsxs(G,{children:[e.jsx(u,{path:"/",element:e.jsx(U,{})}),",",e.jsx(u,{index:!0,element:e.jsx(U,{})}),",",e.jsx(u,{path:"*",element:e.jsx(ys,{})}),e.jsx(u,{path:"/register",element:e.jsx(z,{})}),e.jsx(u,{path:"/home",element:e.jsx(Rs,{})}),e.jsx(u,{path:"/about",element:e.jsx(Fs,{})}),e.jsx(u,{path:"/news",element:e.jsx(Ds,{})}),e.jsx(u,{path:"/contact",elemamt:e.jsx(ks,{})}),e.jsx(u,{path:"/logout",element:e.jsx(Us,{})}),e.jsx(u,{path:"/landing",element:e.jsx(ws,{})}),",",e.jsx(u,{path:"/profile",element:e.jsx(Ps,{})}),",",e.jsx(u,{path:"/assets",element:e.jsx(Gs,{})}),",",e.jsx(u,{path:"/compensations",element:e.jsx(Ms,{})}),",",e.jsx(u,{path:"/evidence",element:e.jsx(Cs,{})}),",",e.jsx(u,{path:"/consult-compensations",element:e.jsx(Vs,{})}),",",e.jsx(u,{path:"/gei-control",element:e.jsx(zs,{})}),",",e.jsx(u,{path:"/user-dashboard",element:e.jsx(U,{})}),",",(t==null?void 0:t.role)==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(u,{path:"/admin-dashboard",element:e.jsx(Bs,{})}),e.jsx(u,{path:"/test",element:e.jsx(Os,{})})]}):null]})}):e.jsxs(G,{children:[e.jsx(u,{path:"/",element:e.jsx(V,{})}),e.jsx(u,{path:"/login",element:e.jsx(V,{})}),e.jsx(u,{path:"/register",element:e.jsx(z,{})})]})})})})})}const p=JSON.parse(localStorage.getItem("user"));var B,q;const $s=p?{isLoggedIn:!0,user:p,avatar:(q=p==null?void 0:p.user)==null?void 0:q.name.charAt(0).toUpperCase().concat((B=p==null?void 0:p.user)==null?void 0:B.lastname.charAt(0).toUpperCase())}:{isLoggedIn:!1,user:null,avatar:""};function Hs(a=$s,t){var s,r;const{type:o,payload:n}=t;switch(t.type){case Q:return{...a,isLoggedIn:!1,user:n.data.data,avatar:""};case X:return console.log("<<<<REDUCER LOGIN_SUCCESS>>>>",p==null?void 0:p.user),{...a,isLoggedIn:!0,user:n,avatar:(r=p==null?void 0:p.user)==null?void 0:r.name.charAt(0).toUpperCase().concat((s=p==null?void 0:p.user)==null?void 0:s.lastname.charAt(0).toUpperCase())};case Me:return{...a,user:n};case ee:return{...a,isLoggedIn:!1,user:null,avatar:""};default:return a}}const Js={userProfile:[],users:[],isLoading:!0};function Zs(a=Js,t){const{type:o,payload:n}=t;switch(t.type){case Ze:return{...a,userProfile:n.data.data};case We:return{...a,userProfile:n};case Ke:return console.log("Update profile success",n),{...a,userProfile:n};case Ye:return{...a,userProfile:n};case qe:return{...a,isLoading:!1,users:n};case $e:return{...a,users:n};default:return a}}const Ws={user:[],isLoading:!0};function Ks(a=Ws,t){const{type:o,payload:n}=t;switch(t.type){case He:return{...a,isLoading:!1,user:n};case Je:return{...a,user:n};default:return a}}const Ys={compensation:[]};function Qs(a=Ys,t){const{type:o,payload:n}=t;switch(t.type){case es:return{...a,isLoading:!1,compensation:n};case ss:return{...a,compensation:n};case as:return{...a,isLoading:!1,compensation:n};case ts:return{...a,compensation:n};case Qe:return{...a,isLoading:!1,compensation:n};case Xe:return{...a,compensation:n};default:return a}}const Xs={assets:[]};function ea(a=Xs,t){const{type:o,payload:n}=t;switch(o){case is:return{...a,assets:n};case cs:return{...a,assets:[]};case os:return{...a,assets:n};case ls:return{...a,assets:[]};case ns:return{...a,assets:n};case rs:return{...a,assets:[]};case ds:return{...a,assets:n};case us:return{...a,assets:[]};default:return a}}const sa=Re({name:"userSlice",initialState:{users:[],user:[],isLoading:!1},reducers:{startLoading:a=>{a.isLoading=!0},setUsers:(a,t)=>{a.isLoading=!1,a.users=t.payload}}}),aa=we({reducer:{auth:Hs,users:Zs,user:Ks,compensation:Qs,assets:ea,userSlice:sa.reducer},middleware:a=>a().concat(Pe)});const ta="https://myprop.joselimardo.com";A.defaults.baseURL=ta;const na=Fe.createRoot(document.getElementById("root"));na.render(e.jsx(Ue,{store:aa,children:e.jsx(j.StrictMode,{children:e.jsx(qs,{})})}));export{ns as C,qe as G,Ke as U,rs as a,$e as b,oa as c,Ye as d,as as e,ss as f,ia as g,Qe as h,Ge as i,Xe as j,gs as l};
